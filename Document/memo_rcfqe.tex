\documentclass[uplatex, dvipdfmx]{jsarticle}

\usepackage{amsmath,amssymb}
\usepackage{amsthm}
\usepackage{algorithmic}
\usepackage{algorithm}
\usepackage{cleveref}

\makeatletter
\renewenvironment{proof}[1][\proofname]{\par
  \pushQED{\qed}%
  \normalfont \topsep6\p@\@plus6\p@\relax
  \trivlist
  \item\relax
  {\bfseries
  #1\@addpunct{.}}\hspace\labelsep\ignorespaces
}{%
  \popQED\endtrivlist\@endpefalse
}
\makeatother

\newcommand{\sign}{\mathrm{sign}}
\newcommand{\SIGN}{\mathrm{SIGN}}
\newcommand{\defiff}{:\Leftrightarrow}
\newcommand{\RCF}{\mathrm{RCF}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\map}[3]{{#1}:{#2}\rightarrow{#3}}

\theoremstyle{definition}
\newtheorem*{proposition*}{命題}
\newtheorem*{lemma*}{補題}
\newtheorem*{example*}{例}

\renewcommand{\proofname}{\textbf{証明}}

\begin{document}

\begin{lemma*}
    ある写像$\map{\varphi}{W_{2s,m}}{W_{s,m}}$が存在し，次をみたす．

    任意の実閉体$R$と，任意の$f_1, \dots, f_s \in R[X]$について，各$f_i$の次数は$m$以下であり，$f_s$は定数でなく，$f_1, \dots, f_{s-1}$は恒等的に$0$でないとする．
    このとき，$g_1, \dots, g_s \in R[X]$を，それぞれ$f_s$を$f_1, \dots, f_{s-1}$, $f_s'$で割った余りとすれば，
    \begin{equation}
         \SIGN_R(f_1, \dots, f_s) = \varphi(\SIGN_R(f_1, \dots, f_{s-1}, f_s', g_1, \dots, g_s))
    \end{equation}
    である．
\end{lemma*}


\begin{proposition*}
    $\overline{Y}:= (Y_1, \dots, Y_n)$とし，
    $f_1, \dots, f_s \in \Z\left[X, \overline{Y}\right]$をそれぞれ
    $f_i \left(X, \overline{Y} \right) = h_{i, m_i}\left( \overline{Y} \right) X^{m_i} + \dots + h_{i, 0}\left(\overline{Y}\right)$ ($i=1, \dots, s$)とする．
    また，$m:= \max\{m_i \mid i=1, \dots, m\}$とする．
    任意の$W \subset W_{s,m}$に対し，
    ある量化記号のない論理式$\theta\left(\overline{Y}\right)$が存在して次を満たす．

    任意の実閉体$R$と，任意の$\overline{y} := (y_1, \dots, y_n) \in R^n$に対し，以下の2つが同値である．
    \begin{enumerate}
         \item $\SIGN_R(f_1(X, \overline{y}), \dots, f_s(X, \overline{y})) \in W$である．
         \item 実閉体$R$は$\theta(\overline{y})$を満たす．
    \end{enumerate}
\end{proposition*}

さて，この命題の具体例を挙げる．

\begin{example*}
$s=1$とし，$f = f_1 := YX^2 + X + Y$とする．
$W \subset W_{1,2}$を，次で定める．
\begin{equation}
    W:=  \bigcup_{k=1,3,5}\{\text{成分が$-1,0,1$のいずれかである$1$行$k$列行列で，ある成分は1である．}\}
\end{equation}
このとき，任意の実閉体$R$と$y \in R$に対し，
$y \neq 0$ならば，
$f(X,y) = yX^2 + X + y \in R[X]$を$f'(X,y) = 2yX + 1$で割った余りは，
$h(X,y) = y-1/4y \in R[X]$である．また，$y = 0$ならば，
$\widetilde{f}(X,Y) := X + Y$とすれば，$f(X,y) = \widetilde{f}(X,y)$である．

従って，補題で得られる$\varphi$を用いると，次のことがいえる：

任意の実閉体$R$と，任意の$y \in R^n$に対し，以下が同値である．
\begin{itemize}
    \item $\SIGN_R(f(X,y)) \in W$である．\\
    \item $y = 0$かつ$\SIGN_R(\widetilde{f}(X,y)) \in W$，または，$y \neq 0$かつ$\SIGN_R(f'(X,y), h(X,y)) \in \varphi^{-1}(W)$である．
\end{itemize}

ここで，多項式の次数に関して帰納的に証明をするには，$h(X,Y) \in Z[X, Y]$であってほしい．(現在は$h(X,Y) \in Z(Y)[X]$.)

ここで，任意の多項式$p(Y)$について，$p(y)>0$である限りは，
\begin{equation}
    \SIGN_R(f'(X,y), p(y)\cdot h(X,y)) = \SIGN_R(f'(X,y), p(y)\cdot h(X,y))
\end{equation}
である事を用いると，次数と最高次の係数の積の偶数べき$(2Y)^2$を$h(X,Y)$にかけたもの$g(X.Y) := (2X)^2 h(X,Y)$について，
\begin{equation}
    \SIGN_R(f'(X,y), h(X,y)) = \SIGN_R(f'(X,y), g(X,y))
\end{equation}
である．よって，$h(X,Y)$を$g(X,Y)$に置き換えることで帰納的に証明をすることができる．
\end{example*}
\end{document}